#!/usr/bin/env bash
# Heroku post-compile hook to pull DVC models after build

echo "-----> Running DVC pull to fetch model files..."

# Pull models from DVC remote storage
if dvc pull; then
    echo "-----> DVC pull successful!"
    echo "-----> Model files:"
    ls -lh model/ 2>/dev/null || echo "WARNING: model/ directory not found"
else
    echo "-----> DVC pull failed!"
    echo "WARNING: Model files may not be available. Check AWS credentials."
    exit 0  # Don't fail the build, let the app handle missing models
fi
